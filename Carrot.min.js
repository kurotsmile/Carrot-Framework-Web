class Carrot{lang="en";list_lang=null;color_btn="#fa1675";color_active="#FAFA04";site_name="Site Name";site_url="";email1="";email2="";link_twitte="";link_pinterest="";link_linkedin="";link_fb="";contact_phone="";link_tiktok="";link_youtube="";link_github="";data_order_cr=null;ver="0.1";dev=!1;act_done_pay=null;btnTop=null;path="Carrot-Framework-Web";box_cur=null;multi_language=!1;lang_data=null;list_icon_top=['<i class="fas fa-arrow-circle-up"></i>','<i class="fas fa-chevron-circle-up"></i>','<i class="fas fa-chevron-up"></i>','<i class="fas fa-caret-square-up"></i>','<i class="far fa-arrow-alt-circle-up"></i>','<i class="fas fa-angle-double-up"></i>','<i class="fas fa-long-arrow-alt-up"></i>','<i class="fas fa-level-up-alt"></i>','<i class="fas fa-hand-point-up"></i>'];index_cur_btn_top=0;onLoad(t=!1){null!=localStorage.getItem("dev")&&"1"==localStorage.getItem("dev")&&(this.dev=!0),null!=localStorage.getItem("lang")&&(this.lang=localStorage.getItem("lang")),null!=localStorage.getItem("index_cur_btn_top")&&(this.index_cur_btn_top=parseInt(localStorage.getItem("index_cur_btn_top"))),$("head").append('<link rel="stylesheet" type="text/css" href="Carrot-Framework-Web/carrot_style.css">'),this.addHandlebars(),null!=localStorage.getItem("data_order_cr")&&(this.data_order_cr=JSON.parse(localStorage.getItem("data_order_cr")),this.addOrder(this.data_order_cr)),this.loadJs("Carrot-Framework-Web/cr_db_json.js"),this.multi_language=t,this.load_multi_language()}load_multi_language(){this.multi_language&&this.get_json("lang/"+this.lang+".json",t=>{cr.lang_data=t,cr.update_lang()})}update_lang(){null!=this.lang_data&&$(".lang").each(function(t,e){var r=$(e).attr("key_lang");cr.lang_data[r]&&$(e).html(cr.lang_data[r])})}setSiteName(t){this.site_name=t}setSiteUrl(t){this.site_url=t}setVer(t){this.ver=t}change_title(t,e=""){document.title=t,history.pushState(null,t,e)}addHandlebars(){null==window.Handlebars&&$("head").append('<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>')}loadJs(t,e,r="show"){null!=window[e]?window[e][r]():$.getScript(t).done(function(t,a){null!=e&&window[e][r]()}).fail(function(t,e,r){cr.msg("Script loading failed: "+r,"Error","error")})}setColor(t){cr.color_btn=t}set_color_btn(t){cr.color_btn=t}set_color_active(t){cr.color_active=t}l(t,e=""){var r="";return""==(r=null!=this.lang_data&&null!=this.lang_data[t]?this.lang_data[t]:e)&&(r=t),r}show_setting(t=null,e=""){var r="";r+="<form>",r+='<div class="form-group">',r+='<label for="dropdown_lang"><i onclick="cr.act_dev()" class="fas fa-globe-asia"></i> '+this.l("language","Language")+"</label>",r+='<select class="form-control" id="dropdown_lang"><select>',r+='<small id="dropdown_lang_tip" class="form-text text-muted">'+this.l("language_tip","Select your country and language")+"</small>",r+="</div>",r+='<div class="form-group">',r+='<label for="sel_btn_top"><i class="fas fa-scroll"></i> '+this.l("top_btn","Scroll Top Button")+"</label>",r+='<div class="d-block mt-1 mb-1" id="list_btn_top_setting"></div>',r+='<small id="list_btn_top_setting_tip" class="form-text text-muted">'+this.l("top_btn_tip","Choose a style for the top scroll button that's right for you")+"</small>",r+="</div>",cr.dev&&(r+='<div class="form-group">',r+='<label for="dev_tool"><i class="fab fa-dev"></i> Programming support tools</label>',r+='<div class="d-block mt-1 mb-1" id="dev_tool">',r+='<button class="btn btn-sm btn-dark" onclick="cr.get_google_drive_link();return false;"><i class="fab fa-google-drive"></i> Get Link Download From Google Drive</button>',r+="</div>",r+='<small id="dev_tool_tip" class="form-text text-muted">These are programming support functions</small>',r+="</div>",r+='<div class="form-group">',r+='<label for="dev_json"><i class="fas fa-file-invoice"></i> Json Editor</label>',r+='<div class="input-group">',r+='<div class="custom-file">',r+='<input type="file" class="form-control custom-file-input" id="dev_json_fileInput" aria-describedby="dev_json_fileInput" aria-label="Upload">',r+='<label class="custom-file-label" for="customFile">Choose file</label>',r+="</div>",r+="</div>",r+='<small id="dev_json_tip" class="form-text text-muted">These are programming support functions</small>',r+="</div>"),r+="</form>",r+=e;var a="";a=this.dev?"Settings for development mode":this.l("setting","Setting"),Swal.fire({title:a,html:r,showCancelButton:!0,showCloseButton:!0,cancelButtonText:cr.l("cancel","Cancel"),confirmButtonColor:cr.color_btn,didOpen(){$.getJSON("https://raw.githubusercontent.com/kurotsmile/Database-Store-Json/main/lang.json",function(t){cr.list_lang=t.all_item,$.each(cr.list_lang,function(t,e){e.key==cr.lang?$("#dropdown_lang").append($("<option>",{value:e.key,text:e.name,selected:!0})):$("#dropdown_lang").append($("<option>",{value:e.key,text:e.name}))})}),$.each(cr.list_icon_top,function(t,e){var r="";r=cr.index_cur_btn_top==t?$('<span index="'+t+'" style="background-color:black;color:'+cr.color_active+'" class="m-1 btn cr_btn_top setting_review">'+e+"</span>"):$('<span index="'+t+'" style="background-color:'+cr.color_btn+'" class="m-1 btn cr_btn_top setting_review">'+e+"</span>"),$(r).click(function(){var t=$(this).attr("index");$(".cr_btn_top").attr("style",""),$(".cr_btn_top").css("background-color",cr.color_btn),$(this).css("background-color","black"),$(this).css("color",cr.color_active),cr.index_cur_btn_top=parseInt(t),$(cr.btnTop).html(e),localStorage.setItem("index_cur_btn_top",t)}),$("#list_btn_top_setting").append(r)}),cr.dev&&$("#dev_json_fileInput").on("change",function(t){var e=t.target.files[0];if(e){var r=new FileReader;r.onload=function(t){try{var e=JSON.parse(t.target.result);cr_data.edit(e,t=>{cr.download(t,"datajson.json")}),Swal.close()}catch(r){cr.msg(r,"Error","error")}},r.readAsText(e)}})}}).then(e=>{e.isConfirmed&&(cr.lang=$("#dropdown_lang").val(),localStorage.setItem("lang",cr.lang),cr.load_multi_language(),null!=t&&t({lang:cr.lang}))})}get_google_drive_link(){this.input("Get Link Download","Get Link Download from Google Drive",t=>{Swal.fire({icon:"success",title:"Link create success",confirmButtonColor:cr.color_btn,iconColor:cr.color_btn,text:cr.replaceDriveUrl(t)})})}input(t="Enter data",e="Please enter your data here",r=null){Swal.fire({title:t,input:"text",inputLabel:e,confirmButtonColor:cr.color_btn,preConfirm(t){""==t.trim()?Swal.fire({icon:"error",text:"Input data cannot be empty!",confirmButtonColor:cr.color_btn}):r&&r(t)}})}replaceDriveUrl(t){let e=t.match(/https:\/\/drive\.google\.com\/file\/d\/([a-zA-Z0-9_-]+)\/view/);if(e&&e[1]){let r=e[1],a=`https://www.googleapis.com/drive/v3/files/${r}?alt=media&key=AIzaSyDKcjH_bDJz3EcqPdV5i62IZNVQ6EkyOFg`;return a}throw Error("URL kh\xf4ng hợp lệ hoặc kh\xf4ng phải l\xe0 Google Drive URL.")}show_contact(){var t="";t+="<div>"+cr.l("contact_tip","I offer development services for Unity3D applications and games across various platforms. Additionally, I can develop web apps and web games. I am available for participation in large projects. Feel free to contact me via email:")+"</div>",t+='<ul class="text-left mt-3" style="list-style: none;">',""!=this.contact_phone&&(t+="<li><i class='fas fa-phone'></i> Phone: <a href='tel:"+this.contact_phone+"'>"+this.contact_phone+"</a></li>"),""!=this.email1&&(t+="<li><i class='fas fa-envelope'></i> Mail: <a href='mailto:"+this.email1+"'>"+this.email1+"</a></li>"),""!=this.email2&&(t+="<li><i class='fas fa-envelope'></i> Mail: <a href='mailto:"+this.email2+"'>"+this.email2+"</a></li>"),""!=this.link_fb&&(t+="<li><i class='fab fa-facebook'></i> Facebook: <a href='"+this.link_fb+"' target='_blank'>"+this.link_fb+"</a></li>"),""!=this.link_linkedin&&(t+="<li><i class='fab fa-linkedin'></i> Linkedin: <a href='"+this.link_linkedin+"' target='_blank'>"+this.link_linkedin+"</a></li>"),""!=this.link_tiktok&&(t+="<li><i class='fab fa-tiktok'></i> TikTok: <a href='"+this.link_tiktok+"' target='_blank'>"+this.link_tiktok+"</a></li>"),""!=this.link_youtube&&(t+="<li><i class='fab fa-youtube'></i> YouTube: <a href='"+this.link_youtube+"' target='_blank'>"+this.link_youtube+"</a></li>"),""!=this.link_pinterest&&(t+="<li><i class='fab fa-pinterest'></i> Pinterest: <a href='"+this.link_pinterest+"' target='_blank'>"+this.link_pinterest+"</a></li>"),""!=this.link_twitte&&(t+="<li><i class='fab fa-x-twitter'></i> X: <a href='"+this.link_twitte+"' target='_blank'>"+this.link_twitte+"</a></li>"),""!=this.link_github&&(t+="<li><i class='fab fa-github'></i> Github: <a href='"+this.link_github+"' target='_blank'>"+this.link_github+"</a></li>"),t+="</ul>",this.msg(t,cr.l("contact","Contact"),"info")}createCodeOrder(){let t=new Date;return["Rose","Tulip","Daisy","Sunflower","Lily","Orchid","Lavender","Marigold","Jasmine","Chrysanthemum","Poppy","Peony"][t.getMonth()]+"-"+t.getFullYear()}showConfimOrder(){var t="Enter the confirmation code we sent to your email!";t+='<input class="form-control mt-2" id="codeConfimOrder"/>',Swal.fire({title:"Confirm purchase",html:t,confirmButtonColor:cr.color_btn}).then(t=>{t.isConfirmed&&($("#codeConfimOrder").val()==cr.createCodeOrder()?(Swal.fire({icon:"success",title:"Confirm purchase",text:"Successful order confirmation!\n You can use the purchased products!",confirmButtonColor:cr.color_btn}),setTimeout(()=>{"link"==cr.data_order_cr.type?window.open(cr.data_order_cr.val,"_blank").focus():localStorage.setItem(cr.data_order_cr.type,cr.data_order_cr.val),null!=cr.act_done_pay&&cr.act_done_pay(cr.data_order_cr),cr.deleteOrder()},2e3)):Swal.fire({icon:"error",title:"Confirm purchase",text:"The order verification code is incorrect, please check your email!",confirmButtonColor:cr.color_btn}))})}deleteOrder(){this.data_order_cr=null,localStorage.removeItem("data_order_cr"),$("#cr_order").remove()}addOrder(t){this.data_order_cr=t,localStorage.setItem("data_order_cr",JSON.stringify(this.data_order_cr));var e=$(`
                <div id='cr_order' role="button">
                    <i class="fas fa-hourglass-end fa-spin" id="cr_order_icon"></i>
                    <div id='cr_order_body'>    
                        Please click here if you have already paid
                    </div>
                    <button class="btn btn-sm btn-dark" id="cr_order_close"><i class="fas fa-window-close"></i></button>
                </div>
            `);$(e).find("#cr_order_close").click(function(t){return cr.deleteOrder(),!1}),$(e).click(function(){cr.showConfimOrder()}),$("body").append(e)}show_pay(t="Test item",e="Please start paying to use the corresponding function",r="2.00",a="",l="link"){var o={type:l,val:a,name:t,price:r,date:Date.now()};this.addOrder(o),Swal.fire({title:"Order Item",html:`
              ${t} <br/><br/>
              <b style="color:${this.color_btn}"><i class="fas fa-dollar-sign"></i> ${r}</b> USD  <br/><br/>
              ${e}
              <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
                <input type="hidden" name="cmd" value="_xclick">
                <input type="hidden" name="business" value="tranthienthanh93@gmail.com">
                <input type="hidden" name="item_name" value="${t}">
                <input type="hidden" name="amount" value="${r}">
                <input type="hidden" name="currency_code" value="USD">
                <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_buynow_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
                <img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
              </form>
            `,showConfirmButton:!1,confirmButtonColor:cr.color_btn})}show_pp(t,e=null,r=null){this.get("Carrot-Framework-Web/privacy_policy/"+this.lang+".html?v="+this.ver,r=>{$(t).html(cr.getDataTemplate(r)),null!=e&&e()},r)}getDataTemplate(t){return Handlebars.compile(t)({site_name:cr.site_name,site_url:cr.site_url,email1:cr.email1,email2:cr.email2,link_fb:cr.link_fb,link_linkedin:cr.link_linkedin,link_pinterest:cr.link_pinterest,link_twitte:cr.link_twitte,contact_phone:cr.contact_phone})}show_tos(t,e=null,r=null){this.get("Carrot-Framework-Web/terms_of_service/"+this.lang+".html?v="+this.ver,r=>{$(t).html(cr.getDataTemplate(r)),null!=e&&e()},r)}get(t,e=null,r=null){$.get(t).done(function(t){null!=e&&e(t)}).fail(function(e,a,l){cr.msg("Unable to download data from ("+t+"). Please try again later!","Error","error"),null!=r&&r()})}top(t=null,e=null){$("html,body").animate({scrollTop:0},"slow",function(){null!=t&&t(),setTimeout(function(){null!=e&&e()},1e3)})}goto(t,e=0){this.go_to(t,e)}go_to(t,e=0){$("html, body").animate({scrollTop:$(t).offset().top-e},1e3)}arg(t=""){if(""==t)return window.location.href.split("/").filter(function(t){return t.length>0}).slice(3);for(var e,r=window.location.search.substring(1).split("&"),a=0;a<r.length;a++)if((e=r[a].split("="))[0]===t)return void 0===e[1]||decodeURIComponent(e[1]);return!1}showSearch(t=null){Swal.fire({title:cr.l("search","Search"),input:"text",inputLabel:cr.l("search_tip","Search Content"),confirmButtonColor:cr.color_btn,preConfirm(e){""==e.trim()?Swal.fire({icon:"error",title:cr.l("search","Search"),text:cr.l("search_error","Search keywords cannot be empty!"),confirmButtonColor:cr.color_btn}):null!=t&&t(e)}})}show_donation(){Swal.fire({title:"Donation",html:"<iframe id='kofiframe' src='https://ko-fi.com/thienthanhtran/?hidefeed=true&widget=true&embed=true&preview=true' style='border:none;width:100%;padding:4px;background:#f9f9f9;' height='712' title='thienthanhtran'></iframe>",confirmButtonColor:cr.color_btn})}act_dev(){this.dev?(this.dev=!1,localStorage.setItem("dev","0"),this.msg("Enabled Publishing mode for web app","Publishing mode","success")):(this.dev=!0,localStorage.setItem("dev","1"),this.msg("Enabled development mode for web app","Development mode","info"))}random(t){return this.get_random(t)}get_random(t){return t[Math.floor(Math.random()*t.length)]}shuffle(t){for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}limitItem(t,e){return t.slice(0,e)}sortKeys(t){let e=Object.entries(t);return e.sort(([t],[e])=>t.localeCompare(e)),Object.fromEntries(e)}show_share(t="",e="",r="Get Now"){this.share(t,e,r)}share(t="",e="",r="Get Now"){""==t&&(t=window.location.href),""==e&&(e=this.site_name);let a={title:e,text:r,url:t};navigator.share(a)}copy(t,e=!0){var r=$("<input>");$("body").append(r);var a="";a=e?$(t).val():$(t).html(),r.val(a).select(),document.execCommand("copy"),r.remove()}paste(t=null,e=null){navigator.clipboard.readText().then(r=>{t&&$(t).val(r.trim()),e&&e(r.trim())})}add_btn_top(){var t=$(`<div id="cr_btn_top" style="background-color:${cr.color_btn};display:none;" onclick="cr.top();return false;">${this.list_icon_top[this.index_cur_btn_top]}</div>`);return $("body").append(t),this.btnTop=t,$(window).scroll(function(){var t=$(window).height();$(window).scrollTop()>t/2?cr.btnTop.fadeIn():cr.btnTop.fadeOut()}),t}show_youtube(t,e="",r=null){m.song.box_info_menu_cur="video";var a='<iframe width="100%" height="315" src="https://www.youtube.com/embed/'+cr.getYouTubeVideoId(t)+'?autoplay=0" title="YouTube video player" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>';a+=e,Swal.fire({title:data.name,html:a,confirmButtonColor:cr.color_btn,didOpen(){null!=r&&r()}})}getYouTubeVideoId(t){var e=t.match(/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return e&&e[1]?e[1]:null}download(t,e,r="application/json"){var a="";a="application/json"==r?JSON.stringify(t):t;var l=new Blob([a],{type:r}),o=URL.createObjectURL(l),i=document.createElement("a");i.href=o,i.download=e,i.click(),URL.revokeObjectURL(o)}create_id(t=8){for(var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=r.length,l=0;l<t;l++)e+=r.charAt(Math.floor(Math.random()*a));return e+new Date().getTime()}btn(t="",e='<i class="fas fa-bullseye"></i>'){return $(`<button class="btn">${e} ${t}</button>`)}add_btn_box(t){$(this.box_cur).find(".modal-footer").append(t)}box_title(t){$(this.box_cur).find(".modal-title").html(t)}box(t="Box Title",e="",r=null,a=null,l=null,o=""){if(null==this.box_cur){var i=$(`
                <div class="modal fade" id="${"cr_box_"+cr.create_id()}" role="dialog" aria-labelledby="cr_box_Label" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">${t}</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        ${e}
                    </div>
                    <div class="modal-footer">
                        ${o}
                    </div>
                    </div>
                </div>
                </div>
            `);this.box_cur=i,$("body").append(cr.box_cur).ready(function(){$(cr.box_cur).modal("show"),null!=r&&r(cr.box_cur)})}else $(cr.box_cur).modal("show"),$(cr.box_cur).find(".modal-footer").html(""),$(cr.box_cur).find(".modal-title").html(t),$(cr.box_cur).find(".modal-body").html(e).ready(function(){null!=r&&r(cr.box_cur)});if(null!=a){var n=$(`<button type="button" style="background:${cr.color_btn}" class="btn text-white btn_cr_ok">Ok</button>`);$(n).click(function(){$(cr.box_cur).modal("hide"),null!=a&&a()}),$(cr.box_cur).find(".modal-footer").append(n)}if(null!=l){var s=$('<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>');$(cr.box_cur).find(".modal-footer").append(s)}return $(this.box_cur).on("hidden.bs.modal",function(){null!=l&&l()}),this.box_cur}get_json(t,e,r=null){fetch(t).then(t=>{if(!t.ok)throw Error(`HTTP error! Status: ${t.status}`);return t.json()}).then(t=>{e(t)}).catch(t=>{r?r(t):console.error("Error:",t)})}msg(t="",e="",r="",a=null,l=!0){var o={title:e,iconColor:cr.color_btn,confirmButtonColor:cr.color_btn};""!=e&&(o.title=e),""!=r&&(o.icon=r),this.containsHTMLTags(t)?o.html=t:o.text=t,a&&(o.didOpen=a),o.showConfirmButton=l,Swal.fire(o)}msg_loading(){Swal.showLoading()}msg_question(t,e,r=null,a=null){var l="";l+="<p>"+t+"</p>",l+='<p id="msg_cr_all_btn"></p>',cr.msg(l,e,"question",()=>{var t=$('<button class="btn btn-info m-1"><i class="fas fa-check"></i> Yes</button>');$(t).click(()=>{Swal.close(),r&&r()});var e=$('<button class="btn btn-dark m-1"><i class="fas fa-times"></i> No</button>');$(e).click(()=>{Swal.close(),a&&a()}),$("#msg_cr_all_btn").append(t),$("#msg_cr_all_btn").append(e)},!1)}containsHTMLTags(t){return/<\/?[a-z][\s\S]*>/i.test(t)}download_sitemap(t){var e='<?xml version="1.0" encoding="UTF-8"?>';e+='<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',$(t).each(function(t,r){e+="<url>",e+="<loc>"+r+"</loc>",e+="<lastmod>"+function t(){let e=new Date,r=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0");return`${r}-${a}-${l}`}()+"</lastmod>",e+="<changefreq>monthly</changefreq>",e+="<priority>0.8</priority>",e+="</url>"}),e+="</urlset>",cr.download(e,"sitemap.xml","application/xml")}tr(t,e,r){$(e).addClass("bg-warning"),$.ajax({url:"https://api.mymemory.translated.net/get",method:"GET",data:{q:t,langpair:"en|"+r},success:function(t){var r=t.responseData.translatedText;$(e).val(r).removeClass("bg-warning")},error:function(){$(e).val("Error occurred while translating.").removeClass("bg-warning")}})}checkLinkDownload(t){var e=0;!function r(){if(e>=t.length){console.log("Tất cả c\xe1c li\xean kết đ\xe3 được kiểm tra.");return}var a=t[e];$.ajax({url:a,type:"HEAD",success:function(){window.open(a,"_blank")},error:function(){e++,r()}})}()}setTile(t,e=""){var r="";""!=e&&(r=cr.site_url+"?"+e),document.title=t,window.history.pushState({},t,r)}setTitleAndURL(t,e){document.title=t,window.history.pushState({},t,e)}alive(t){return null!=t&&""!=t&&void 0!=t&&"undefined"!=t}show_menu_list(t,e,r=null){function a(t,e="father",r=!1){var a=' href="#" ',l="",o="";let i="",n="",s="";o=cr.alive(t.id_customer)?t.id_customer:t.id_doc,cr.alive(t.icon)&&(s='<i class="'+t.icon+'"></i> '),"father"==e?(i=r?"nav-item dropdown "+(cr.alive(t.class)?t.class:""):"nav-item "+(cr.alive(t.class)?t.class:""),n="nav-link"):(n="dropdown-item",cr.alive(t.class)&&(i=t.class)),"link"==t.type&&(a=' href="'+t.value+'" '),"functionJS"==t.type&&(l=' onClick="'+t.value+';return false;"');var c='<li class="'+i+' cr_menu_item" id="'+o+'">';return r?c+='<a id="a_'+o+'" class="nav-link dropdown-toggle"  href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" '+l+" "+a+" >"+s+t.name+"</a>":c+='<a id="a_'+o+'" class="'+n+'" aria-current="page" '+l+" "+a+" >"+s+t.name+"</a>",c+="</li>"}$(t).append('<li><i class="fas fa-spinner fa-spin"></i> Loading</li>'),cr_firestore.list(e,e=>{$(t).empty(),e.sort(function(t,e){return parseInt(t.order)-parseInt(e.order)});var l=[],o=[];$.each(e,function(t,e){""==e.father?l.push(e):o.push(e)}),$(l).each(function(e,r){var l,i,n;if("draft"==r.type)return!0;let s=(l=r.id_doc,i=o,n=!1,$.each(i,function(t,e){if(e.father==l)return n=!0,!1}),n);$(t).append(a(r,"father",s)),s&&($("#"+r.id_doc).append('<ul class="dropdown-menu" aria-labelledby="m_a_'+r.id_doc+'" id="list_m_child_'+r.id_doc+'"></ul>'),$(o).each(function(t,e){$("#list_m_child_"+r.id_doc).append(a(e,"child"))}))}),r&&r()})}getBaseUrl(){return window.location.origin}create_id(){let t=Date.now(),e=Math.floor(1e3*Math.random()).toString().padStart(3,"0");return t+"_"+e}convertObjectToArray(t){return Object.keys(t).map(function(e){return t[e]})}getDateTimeCur(){let t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),i=String(t.getSeconds()).padStart(2,"0"),n=`${a}-${r}-${e} ${l}:${o}:${i}`;return n}getDateCur(){var t,e=new Date,r=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2);return r+"-"+a+"-"+l+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)}field(t,e,r="text",a="",l=!1,o="",i="",n=""){""==i&&(i="Enter data here...");var s="";return s+='<div class="mb-3">',s+='<label for="'+t+'" class="form-label">'+e+(l?' <b style="color:red">(*)</b>':"")+"</label>",s+='<div class="input-group">',"select"==r?(s+='<select class="inp_cmd_field w-100 form-control" id="'+t+'" field-key="'+t+'">',""!=a&&$.each(a,function(t,e){s+='<option value="'+e.value+'" '+(val_field==e.value?"selected":"")+">"+e.label+"</option>"}),s+="</select>"):"textarea"==r?s+='<textarea class="form-control" id="'+t+'" rows="3" placeholder="'+i+'"></textarea>':(s+='<input type="'+r+'" value="'+a+'" class="form-control" id="'+t+'" placeholder="'+i+'" tabindex="-1">',s+="<button onclick=\"cr.paste('#"+t+'\');return false;" class="btn btn-outline-secondary" type="button"><i class="fas fa-clipboard"></i> Paste</button>'),""!=n&&(s+=n),s+="</div>",cr.alive(o)&&(s+='<div id="'+t+'Help" class="form-text">'+o+"</div>"),s+="</div>"}}var cr=new Carrot;